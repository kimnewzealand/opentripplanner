<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Prerequisites • opentripplanner</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Prerequisites">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">opentripplanner</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/opentripplanner.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/advanced_features.html">Advanced Features</a>
    </li>
    <li>
      <a href="../articles/prerequisites.html">Prerequisites</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ITSLeeds/opentripplanner">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Prerequisites</h1>
                        <h4 class="author">Malcolm Morgan</h4>
            
            <h4 class="date">2019-05-18</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ITSLeeds/opentripplanner/blob/master/vignettes/prerequisites.Rmd"><code>vignettes/prerequisites.Rmd</code></a></small>
      <div class="hidden name"><code>prerequisites.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>This vignette provides guidance for people who new to OpenTripPlanner (OTP) and R. After you have R and OTP installed and have become familiar with them (e.g. by reading this vignette), we recommend working through <a href="https://itsleeds.github.io/opentripplanner/articles/opentripplanner.html">Getting Started vignette</a>.</p>
</div>
<div id="what-is-this-package-for-and-what-is-a-package-anyway" class="section level2">
<h2 class="hasAnchor">
<a href="#what-is-this-package-for-and-what-is-a-package-anyway" class="anchor"></a>What is this package for, and what is a package anyway?</h2>
<p>The <code>opentripplanner</code> R package makes it easier for R and OpenTripPlanner to communicate. Specifically, it allows you to do use R to control OTP and use it as a local routing service. For more on local versus remote routing services, see the Transportation chapter in <a href="https://geocompr.robinlovelace.net/transport.html">Geocomputation with R</a>.</p>
<div id="what-is-opentripplanner" class="section level3">
<h3 class="hasAnchor">
<a href="#what-is-opentripplanner" class="anchor"></a>What is OpenTripPlanner?</h3>
<p>OTP is a free, open-source, and cross-platform multi-modal route planner written in JAVA. It is like having your own private version of Google Maps.</p>
<p>Learn more about OTP at:</p>
<ul>
<li><a href="http://www.opentripplanner.org/" class="uri">http://www.opentripplanner.org/</a></li>
<li><a href="https://wiki.openstreetmap.org/wiki/OpenTripPlanner" class="uri">https://wiki.openstreetmap.org/wiki/OpenTripPlanner</a></li>
</ul>
</div>
<div id="what-is-r" class="section level3">
<h3 class="hasAnchor">
<a href="#what-is-r" class="anchor"></a>What is R?</h3>
<p>R is a programming language and free software environment for statistical computing and graphics. R has many capabilities for analysing data and writing software, but in this context, its ability to produce and analyse spatial data and maps is most relevant.</p>
<p>You can find a lot more information about R at:</p>
<ul>
<li><a href="https://www.r-project.org/" class="uri">https://www.r-project.org/</a></li>
<li><a href="https://en.wikipedia.org/wiki/R_(programming_language)" class="uri">https://en.wikipedia.org/wiki/R_(programming_language)</a></li>
</ul>
<p>To get started with R, see An Introduction to R <a href="https://cran.r-project.org/doc/manuals/r-release/R-intro.pdf">online</a> or from within R by running <code><a href="https://www.rdocumentation.org/packages/utils/topics/help.start">help.start()</a></code>, or introductory tutorials such as DataCamp’s <a href="https://www.datacamp.com/courses/free-introduction-to-r">free</a> Introduction to R course.</p>
</div>
<div id="what-is-an-r-package" class="section level3">
<h3 class="hasAnchor">
<a href="#what-is-an-r-package" class="anchor"></a>What is an R package?</h3>
<p>An R package is a small piece of software that extends the basic capabilities of R. It is a bit like how a new phone can do some things out of the box (make phone calls, send email) but you have to install apps to add extra abilities.</p>
</div>
<div id="why-would-i-want-to-use-opentripplanner-for-r" class="section level3">
<h3 class="hasAnchor">
<a href="#why-would-i-want-to-use-opentripplanner-for-r" class="anchor"></a>Why would I want to use OpenTripPlanner for R?</h3>
<p>OTP can be used to run public route finding services such as <a href="https://ride.trimet.org" class="uri">https://ride.trimet.org</a> but it can also be run on your own private computer or server. If you want to analyse a transport network OTP is a very useful tool. However, OTP is, as the name suggests, a Trip Planner, not analytical software. So, while OTP can find the fastest route from A to B or find all the places that are within a 20-minute walk of C, it cannot answer a question like “how many people live within 10-minutes of a park?” This is where R can help. R can process multiple spatial datasets such as population densities and park locations but does not have a built-in journey planner.</p>
<p>This package allows you to use the trip planning power of OTP with the analytical might of R.</p>
</div>
</div>
<div id="what-do-i-need-to-get-started" class="section level2">
<h2 class="hasAnchor">
<a href="#what-do-i-need-to-get-started" class="anchor"></a>What do I need to get started?</h2>
<p>You will need to install some software to use OTP and R.</p>
<div id="to-use-r" class="section level3">
<h3 class="hasAnchor">
<a href="#to-use-r" class="anchor"></a>To Use R</h3>
<ul>
<li>Download free R software <a href="https://cran.r-project.org/mirrors.html" class="uri">https://cran.r-project.org/mirrors.html</a> selecting your country (or nearest available country)</li>
<li>We strongly recommend you also download and install RStudio <a href="https://www.rstudio.com/products/rstudio/download/" class="uri">https://www.rstudio.com/products/rstudio/download/</a> that has a free version for personal use.</li>
</ul>
<p>A video tutorial for installing R and RStudio</p>
<ul>
<li>On Mac <a href="https://www.youtube.com/watch?v=cX532N_XLIs" class="uri">https://www.youtube.com/watch?v=cX532N_XLIs</a>
</li>
<li>On Windows <a href="https://www.youtube.com/watch?v=9-RrkJQQYqY" class="uri">https://www.youtube.com/watch?v=9-RrkJQQYqY</a>
</li>
</ul>
</div>
<div id="learning-r" class="section level3">
<h3 class="hasAnchor">
<a href="#learning-r" class="anchor"></a>Learning R</h3>
<p>If you have never used R before there are lots of free tutorials to get you started, such as:</p>
<ul>
<li><a href="https://www.datacamp.com/courses/free-introduction-to-r" class="uri">https://www.datacamp.com/courses/free-introduction-to-r</a></li>
<li><a href="http://www.r-tutor.com/r-introduction" class="uri">http://www.r-tutor.com/r-introduction</a></li>
</ul>
</div>
<div id="to-use-otp" class="section level3">
<h3 class="hasAnchor">
<a href="#to-use-otp" class="anchor"></a>To use OTP</h3>
<p>Download and install Java. You will need the correct version for your operating system. If possible the 64 Bit version of Java is preferable, especially if you want to use OTP over large areas.</p>
<p><strong>Note</strong> OTP does not work with later versions of Java such as Java 11.</p>
<p>To get Java:</p>
<ul>
<li><p><strong>Windows/Mac</strong> <a href="https://www.java.com/en/download/" class="uri">https://www.java.com/en/download/</a> This link defaults to the 32 Bit version.</p></li>
<li><p><strong>Linux</strong> we recommend instructions at <a href="https://askubuntu.com/questions/740757/switch-between-multiple-java-versions">StackOverflow</a>.</p></li>
</ul>
<p>You can also compile the latest version of OTP from source, as outlined at <a href="http://docs.opentripplanner.org/en/latest/Getting-OTP/">docs.opentripplanner.org/</a>.</p>
</div>
</div>
<div id="getting-data-for-otp" class="section level2">
<h2 class="hasAnchor">
<a href="#getting-data-for-otp" class="anchor"></a>Getting Data for OTP</h2>
<p>To use OTP on your local computer you will need data about your location of interest, such as where the roads are, what is the public transport timetable etc.</p>
<div id="road-map-data" class="section level3">
<h3 class="hasAnchor">
<a href="#road-map-data" class="anchor"></a>Road Map Data</h3>
<p>OTP uses road maps from the <a href="https://www.openstreetmap.org">Open Street Map (OSM)</a> in the .pbf format. OSM is a free map that anybody can edit. You can download all or part of the OSM from <a href="https://download.geofabrik.de/">Geofabrik</a>.</p>
<p>Note that OTP only really needs the road network from the OSM. So for large areas, you may wish to remove unneeded data from the file using <a href="https://wiki.openstreetmap.org/wiki/Osmconvert">osmconvert</a> and <a href="https://wiki.openstreetmap.org/wiki/Osmfilter">osmfilter</a> and</p>
</div>
<div id="public-transport-timetables" class="section level3">
<h3 class="hasAnchor">
<a href="#public-transport-timetables" class="anchor"></a>Public Transport Timetables</h3>
<p>OTP can use public transport timetable data in the <a href="https://developers.google.com/transit/gtfs/">GTFS format</a>. You can find GTFS data for many regions at <a href="https://transit.land/">transitland</a>.</p>
</div>
<div id="elevation-data" class="section level3">
<h3 class="hasAnchor">
<a href="#elevation-data" class="anchor"></a>Elevation Data</h3>
<p>You can add terrain information to your routes, especially useful for walking and cycling using GeoTIFF images. You can find worldwide elevation data from <a href="https://www2.jpl.nasa.gov/srtm/">NASA</a>.</p>
<p><strong>Warning</strong> It is common for GeoTIFF to have a no data value often the maximum possible value. OTP can misinterpret this as an elevation value. So set your no data values in your elevation data to something more plausible like 0.</p>
<p>Note that OTP does not support all types of GeoTIFF compression so you may have to change the compression type of the image if you are experiencing problems.</p>
</div>
</div>
<div id="next-steps" class="section level2">
<h2 class="hasAnchor">
<a href="#next-steps" class="anchor"></a>Next Steps</h2>
<p>Now that you have installed Java and R go to the <a href="https://itsleeds.github.io/opentripplanner/articles/opentripplanner.html">Getting Started vignette</a>, to find how to install the package, create a graph, and use it to plan trips. Some sample data for the Isle of Wight is provided on the GitHub page for this package <a href="https://github.com/ITSLeeds/opentripplanner/releases/tag/0.1" class="uri">https://github.com/ITSLeeds/opentripplanner/releases/tag/0.1</a></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li><a href="#what-is-this-package-for-and-what-is-a-package-anyway">What is this package for, and what is a package anyway?</a></li>
      <li><a href="#what-do-i-need-to-get-started">What do I need to get started?</a></li>
      <li><a href="#getting-data-for-otp">Getting Data for OTP</a></li>
      <li><a href="#next-steps">Next Steps</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Marcus Young, Malcolm Morgan, Robin Lovelace.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
