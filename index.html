<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OpenTripPlanner for R • opentripplanner</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="OpenTripPlanner for R">
<meta property="og:description" content="An R interface for OpenTripPlanner &lt;http://www.opentripplanner.org/&gt;.
    OpenTripPlanner (OTP) is an open source platform for multi-modal and multi-agency
    journey planning written in Java. OTP provides a REST API which OpenTripPlanner
    for R uses to connect to OTP.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">opentripplanner</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/opentripplanner.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/advanced_features.html">Advanced Features</a>
    </li>
    <li>
      <a href="articles/prerequisites.html">Prerequisites</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ITSLeeds/opentripplanner">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->

<div id="opentripplanner-for-r" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#opentripplanner-for-r" class="anchor"></a>OpenTripPlanner for R</h1></div>
<p>The goal of OpenTripPlanner for R is to provide a simple R interface to <a href="https://www.opentripplanner.org/">OpenTripPlanner (OTP)</a>. The OTP is a multimodal trip planning service written in Java. For more information on what OTP is, see the <a href="https://itsleeds.github.io/opentripplanner/articles/prerequisites.html">prerequisites vignette</a>.</p>
<p>This package can be used to interface with a remote instance of OTP (e.g. a website) or help you set up and manage a local version of OTP for private use. Basic setup and routing functions are outlined in the <a href="https://itsleeds.github.io/opentripplanner/articles/opentripplanner.html">getting started vignette</a>, while advanced functionality such as batch routing, isochrones, and customised setup is described in the <a href="https://itsleeds.github.io/opentripplanner/articles/advanced_features.html">advanced features vignette</a></p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<div id="opentripplanner" class="section level3">
<h3 class="hasAnchor">
<a href="#opentripplanner" class="anchor"></a>OpenTripPlanner</h3>
<p>To use OpenTripPlanner on your local computer you will need to install Java 8 and download the latest version of OTP. Instructions on installing Java and setting up OTP can be found in the <a href="https://itsleeds.github.io/opentripplanner/articles/opentripplanner.html">getting started vignette</a>.</p>
</div>
<div id="r-package" class="section level3">
<h3 class="hasAnchor">
<a href="#r-package" class="anchor"></a>R Package</h3>
<p>Install the package with <strong>devtools</strong> as follows:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages</a></span>(<span class="st">"devtools"</span>) <span class="co"># If you do not already have the devtools package</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2">devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">"ITSleeds/opentripplanner"</span>)</a></code></pre></div>
</div>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<p>The package contains three groups of functions:</p>
<p>Functions for setting up a local instance of OTP:</p>
<ol style="list-style-type: decimal">
<li>
<code><a href="reference/otp_build_graph.html">otp_build_graph()</a></code> To make a OTP graph from raw data</li>
<li>
<code><a href="reference/otp_setup.html">otp_setup()</a></code> To start up a local instance of OTP</li>
</ol>
<p>Functions for connecting to a local or remote instance of OTP:</p>
<ol style="list-style-type: decimal">
<li>
<code><a href="reference/otp_connect.html">otp_connect()</a></code> To connect to OTP</li>
</ol>
<p>Functions for retrieving data from OTP:</p>
<ol style="list-style-type: decimal">
<li>
<code><a href="reference/otp_plan.html">otp_plan()</a></code> To get routes from A to B</li>
<li>
<code>otp_isochone()</code> To get isochrone maps</li>
<li>
<code><a href="reference/otp_geocode.html">otp_geocode()</a></code> To get the locations of named places e.g. road names</li>
</ol>
<p>Results are returned as <a href="https://cran.r-project.org/web/packages/sf/index.html">sf objects</a></p>
</div>
<div id="tests" class="section level2">
<h2 class="hasAnchor">
<a href="#tests" class="anchor"></a>Tests</h2>
<p>As this package does not work without a working connection to OTP, tests only run on machines that have the environment variable <code>I_have_OTP</code> with the value <code>TRUE</code>. You can add this with <code><a href="https://www.rdocumentation.org/packages/usethis/topics/edit">usethis::edit_r_environ()</a></code>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Sys.getenv">Sys.getenv</a></span>(<span class="st">"I_have_OTP"</span>)</a></code></pre></div>
</div>
<div id="acknowledgement" class="section level2">
<h2 class="hasAnchor">
<a href="#acknowledgement" class="anchor"></a>Acknowledgement</h2>
<p>This package was built off the <a href="https://github.com/marcusyoung/otp-tutorial">tutorial by Marcus Young</a></p>
</div>
<div id="contribution" class="section level2">
<h2 class="hasAnchor">
<a href="#contribution" class="anchor"></a>Contribution</h2>
<p>Please note that the <code>opentripplanner</code> project is released with a <a href="CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
<div id="package-status" class="section level2">
<h2 class="hasAnchor">
<a href="#package-status" class="anchor"></a>Package Status</h2>
<p>This package is part of ongoing research at the University of Leeds, it is provided “as is” and is likely to be updated and changed without warning to meet the research needs of the University. It is our intention to bring a stable version to CRAN as soon as possible.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/ITSLeeds/opentripplanner">https://​github.com/​ITSLeeds/​opentripplanner</a>
</li>
<li>Report a bug at <br><a href="https://github.com/ITSLeeds/opentripplanner/issues">https://​github.com/​ITSLeeds/​opentripplanner/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Marcus Young <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-4627-1116" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID" height="16"></a> </li>
<li>Malcolm Morgan <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-9488-9183" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID" height="16"></a> </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/ITSLeeds/opentripplanner"><img src="https://travis-ci.org/ITSLeeds/opentripplanner.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://codecov.io/github/ITSLeeds/opentripplanner?branch=master"><img src="https://codecov.io/gh/ITSLeeds/opentripplanner/branch/master/graph/badge.svg" alt="Coverage status"></a></li>
<li><a href="https://ci.appveyor.com/project/layik/opentripplanner-05ana"><img src="https://ci.appveyor.com/api/projects/status/gqp3smc04as3qg85?svg=true" alt="Build status"></a></li>
<li><a href="https://www.repostatus.org/#active"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active – The project has reached a stable, usable state and is being actively developed."></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Marcus Young, Malcolm Morgan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
